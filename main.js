(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(t,n,o,i){var a=e.querySelector(".places__item").cloneNode(!0),c=a.querySelector(".card__image"),r=a.querySelector(".card__title"),u=a.querySelector(".card__delete-button"),l=a.querySelector(".card__like-button");return c.src=t.link,c.alt=t.name,r.textContent=t.name,u.addEventListener("click",n),l.addEventListener("click",(function(){return o(l)})),c.addEventListener("click",(function(){return i(t)})),a}function n(e){e.target.closest(".places__item").remove()}function o(e){e.classList.toggle("card__like-button_is-active")}function i(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&c(t)}}function a(e){e.classList.add("popup_is-opened"),e.classList.add("popup_is-animated"),document.addEventListener("keydown",i)}function c(e){e.classList.add("popup_is-animated"),e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",i)}var r=document.querySelector(".places__list"),u=document.querySelector(".profile__edit-button"),l=document.querySelector(".popup_type_edit"),p=document.querySelectorAll(".popup__close"),s=document.querySelector(".profile__add-button"),d=document.querySelector(".popup_type_new-card"),f=document.querySelector(".popup_type_image"),m=f.querySelector(".popup__caption"),x=f.querySelector(".popup__image"),_=document.forms["edit-profile"],v=document.querySelector(".profile__title"),y=document.querySelector(".profile__description");function b(e){x.src=e.link,f.alt=e.name,m.textContent=e.name,a(f)}[{name:"Москва",link:"https://images.unsplash.com/photo-1520106212299-d99c443e4568?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Санкт-Петербург",link:"https://images.unsplash.com/photo-1554639360-21635f24d070?q=80&w=2109&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Севастополь",link:"https://images.unsplash.com/photo-1561555697-51794d9c6b0a?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Камчатка",link:"https://images.unsplash.com/photo-1556661076-23e13ce7489c?q=80&w=2127&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Казань",link:"https://images.unsplash.com/photo-1581968416001-b92fb6093a15?q=80&w=1886&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Байкал",link:"https://images.unsplash.com/photo-1613743147907-c565e3684a90?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}].forEach((function(e){var i=t(e,n,o,b);r.append(i)})),u.addEventListener("click",(function(){_.elements.name.value=v.textContent,_.elements.description.value=y.textContent,a(l)})),s.addEventListener("click",(function(e){a(d)})),p.forEach((function(e){e.addEventListener("click",(function(e){c(e.target.closest(".popup"))}))})),document.addEventListener("click",(function(e){var t=e.target.closest(".popup");t&&e.target===t&&c(t)})),_.addEventListener("submit",(function(e){e.preventDefault(),v.textContent=_.elements.name.value,y.textContent=_.elements.description.value,c(e.target.closest(".popup"))}));var w=document.forms["new-place"],D=w.elements["place-name"],q=w.elements.link;w.addEventListener("submit",(function(e){e.preventDefault();var i=t({name:D.value,link:q.value,alt:D.value},n,o,b);r.prepend(i),w.reset(),c(d)}))})();