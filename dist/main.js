(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(t,n,o,i){var a=e.querySelector(".places__item").cloneNode(!0),c=a.querySelector(".card__image"),r=a.querySelector(".card__title"),u=a.querySelector(".card__delete-button"),l=a.querySelector(".card__like-button");return c.src=t.link,c.alt=t.name,r.textContent=t.name,u.addEventListener("click",n),l.addEventListener("click",(function(){return o(l)})),c.addEventListener("click",(function(){return i(t)})),a}function n(e){e.target.closest(".places__item").remove()}function o(e){e.classList.toggle("card__like-button_is-active")}function i(e){e.classList.add("popup_is-opened"),e.classList.add("popup_is-animated")}function a(e){e.classList.add("popup_is-animated"),e.classList.remove("popup_is-opened")}var c=document.querySelector(".places__list"),r=document.querySelector(".profile__edit-button"),u=document.querySelector(".popup_type_edit"),l=document.querySelectorAll(".popup__close"),p=document.querySelector(".profile__add-button"),s=document.querySelector(".popup_type_new-card"),d=document.querySelector(".popup_type_image"),f=document.forms["edit-profile"],m=document.querySelector(".profile__title"),_=document.querySelector(".profile__description");function x(e){d.querySelector(".popup__image").src=e.link,d.querySelector(".popup__image").alt=e.name,d.querySelector(".popup__caption").textContent=e.name,i(d)}[{name:"Москва",link:"https://images.unsplash.com/photo-1520106212299-d99c443e4568?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Санкт-Петербург",link:"https://images.unsplash.com/photo-1554639360-21635f24d070?q=80&w=2109&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Севастополь",link:"https://images.unsplash.com/photo-1561555697-51794d9c6b0a?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Камчатка",link:"https://images.unsplash.com/photo-1556661076-23e13ce7489c?q=80&w=2127&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Казань",link:"https://images.unsplash.com/photo-1581968416001-b92fb6093a15?q=80&w=1886&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Байкал",link:"https://images.unsplash.com/photo-1613743147907-c565e3684a90?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}].forEach((function(e){var i=t(e,n,o,x);c.append(i)})),r.addEventListener("click",(function(){i(u)})),p.addEventListener("click",(function(e){i(s)})),l.forEach((function(e){e.addEventListener("click",(function(e){a(e.target.closest(".popup"))}))})),document.addEventListener("click",(function(e){var t=e.target.closest(".popup");t&&e.target===t&&a(t)})),document.addEventListener("keydown",(function(e){var t=document.querySelector(".popup_is-opened");"Escape"===e.key&&t&&a(t)})),f.elements.name.value=m.textContent,f.elements.description.value=_.textContent,f.addEventListener("submit",(function(e){e.preventDefault(),m.textContent=f.elements.name.value,_.textContent=f.elements.description.value,a(e.target.closest(".popup"))}));var v=document.forms["new-place"],y=v.elements["place-name"],b=v.elements.link;v.addEventListener("submit",(function(e){e.preventDefault();var i=t({name:y.value,link:b.value,alt:y.value},n,o,x);c.prepend(i),v.reset(),a(s)}))})();